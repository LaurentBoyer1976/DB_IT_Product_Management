<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Diagramme Base de DonnÃ©es IT Product Management</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #2d3748;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            text-align: center;
            color: #718096;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .diagram-wrapper {
            background: #f0f4f8;
            border-radius: 10px;
            padding: 30px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        
        .diagram-container {
            min-width: 1400px;
            position: relative;
        }
        
        /* Styles pour les tables */
        .table {
            position: absolute;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            font-size: 12px;
            overflow: hidden;
        }
        
        .table-header {
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-bottom: 2px solid;
        }
        
        .table-body {
            padding: 10px;
            line-height: 1.6;
        }
        
        .table-footer {
            padding: 10px;
            border-top: 1px solid #e2e8f0;
            font-weight: bold;
        }
        
        /* Couleurs par catÃ©gorie */
        .checkup { background: #e1d5e7; border: 3px solid #9673a6; }
        .checkup .table-header { background: #9673a6; color: white; border-color: #9673a6; }
        
        .components { background: #ffe6cc; border: 3px solid #d79b00; }
        .components .table-header { background: #d79b00; color: white; border-color: #d79b00; }
        
        .reference { background: #d5e8d4; border: 3px solid #82b366; }
        .reference .table-header { background: #82b366; color: white; border-color: #82b366; }
        
        .products { background: #dae8fc; border: 3px solid #6c8ebf; }
        .products .table-header { background: #6c8ebf; color: white; border-color: #6c8ebf; }
        
        .issues { background: #f8cecc; border: 3px solid #b85450; }
        .issues .table-header { background: #b85450; color: white; border-color: #b85450; }
        
        .technical { background: #fff2cc; border: 3px solid #d6b656; }
        .technical .table-header { background: #d6b656; color: white; border-color: #d6b656; }
        
        /* Connecteurs */
        .connector {
            position: absolute;
            stroke: #718096;
            stroke-width: 2;
            fill: none;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
            padding: 20px;
            background: #edf2f7;
            border-radius: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }
        
        .legend-box {
            width: 40px;
            height: 30px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid;
        }
        
        .info-box {
            margin-top: 20px;
            padding: 15px;
            background: #bee3f8;
            border-left: 4px solid #3182ce;
            border-radius: 5px;
        }
        
        .info-box h3 {
            margin-top: 0;
            color: #2c5282;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—„ï¸ Base de DonnÃ©es IT Product Management</h1>
        <p class="subtitle">Gestion du Recyclage IT - Architecture Relationnelle StylisÃ©e</p>
        
        <div class="info-box">
            <h3>ğŸ“Š Vue d'ensemble</h3>
            <p>Ce diagramme reprÃ©sente l'architecture complÃ¨te de la base de donnÃ©es pour la gestion des produits IT retournÃ©s, incluant le suivi des contrÃ´les techniques, des composants dÃ©fectueux et des destinations de recyclage.</p>
        </div>
        
        <div class="diagram-wrapper">
            <div class="diagram-container" style="height: 2700px;">
                
                <!-- Destinations -->
                <div class="table reference" style="left: 50px; top: 50px; width: 200px;">
                    <div class="table-header">destinations</div>
                    <div class="table-body">
                        destination_name: text<br>
                        destination_type: text
                    </div>
                    <div class="table-footer">ğŸ”‘ destination_id: text</div>
                </div>
                
                <!-- Status -->
                <div class="table reference" style="left: 20px; top: 250px; width: 250px;">
                    <div class="table-header">status</div>
                    <div class="table-body">
                        status_name: text<br>
                        status_order: integer<br>
                        destination_id: text<br>
                        created_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ status_id: text</div>
                </div>
                
                <!-- Customers -->
                <div class="table products" style="left: 180px; top: 500px; width: 250px;">
                    <div class="table-header">customers</div>
                    <div class="table-body">
                        customer_name: text<br>
                        customer_email: text<br>
                        created_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ customer_id: text</div>
                </div>
                
                <!-- OS -->
                <div class="table technical" style="left: 520px; top: 500px; width: 180px;">
                    <div class="table-header">os</div>
                    <div class="table-body">
                        os_name: text<br>
                        os_version: text
                    </div>
                    <div class="table-footer">ğŸ”‘ os_id: text</div>
                </div>
                
                <!-- Suppliers -->
                <div class="table products" style="left: 350px; top: 680px; width: 250px;">
                    <div class="table-header">suppliers</div>
                    <div class="table-body">
                        supplier_name: text<br>
                        supplier_location: text<br>
                        created_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ supplier_id: text</div>
                </div>
                
                <!-- Returned Products (Central) -->
                <div class="table products" style="left: 300px; top: 920px; width: 300px;">
                    <div class="table-header">returned_products</div>
                    <div class="table-body">
                        purchase_date: date<br>
                        return_date: date<br>
                        supplier_id: text<br>
                        customer_id: text<br>
                        os_id: text<br>
                        current_status_id: text<br>
                        created_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ serial_number: text</div>
                </div>
                
                <!-- Technicians -->
                <div class="table technical" style="left: 50px; top: 1200px; width: 180px;">
                    <div class="table-header">technicians</div>
                    <div class="table-body">
                        first_name: text<br>
                        last_name: text<br>
                        email: text<br>
                        phone: text<br>
                        hire_date: date<br>
                        is_active: boolean
                    </div>
                    <div class="table-footer">ğŸ”‘ technician_id: text</div>
                </div>
                
                <!-- Technical Issues -->
                <div class="table issues" style="left: 700px; top: 1250px; width: 200px;">
                    <div class="table-header">technical_issues</div>
                    <div class="table-body">
                        issue_name: text<br>
                        issue_description: text
                    </div>
                    <div class="table-footer">ğŸ”‘ issue_id: text</div>
                </div>
                
                <!-- Product Checkups -->
                <div class="table checkup" style="left: 50px; top: 1550px; width: 350px;">
                    <div class="table-header">product_checkups</div>
                    <div class="table-body">
                        serial_number: varchar(255)<br>
                        technician_id: varchar(255)<br>
                        checkup_date: timestamp<br>
                        checkup_start_time: timestamp<br>
                        checkup_end_time: timestamp<br>
                        overall_status: enum<br>
                        technician_notes: text<br>
                        estimated_repair_cost: numeric<br>
                        is_completed: boolean<br>
                        completed_at: timestamp<br>
                        created_at: timestamp<br>
                        updated_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ checkup_id: integer</div>
                </div>
                
                <!-- Product Issues -->
                <div class="table issues" style="left: 550px; top: 1850px; width: 300px;">
                    <div class="table-header">product_issues</div>
                    <div class="table-body">
                        serial_number: text<br>
                        technical_issue_id: text<br>
                        reported_date: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ (serial_number, technical_issue_id)</div>
                </div>
                
                <!-- Components -->
                <div class="table components" style="left: 270px; top: 2070px; width: 220px;">
                    <div class="table-header">components</div>
                    <div class="table-body">
                        component_name: text<br>
                        component_category: text
                    </div>
                    <div class="table-footer">ğŸ”‘ component_id: text</div>
                </div>
                
                <!-- Checkup Tasks -->
                <div class="table reference" style="left: 20px; top: 2270px; width: 280px;">
                    <div class="table-header">checkup_tasks</div>
                    <div class="table-body">
                        task_name: text<br>
                        task_description: text<br>
                        task_category: text<br>
                        task_order: integer<br>
                        is_mandatory: boolean<br>
                        estimated_duration: integer
                    </div>
                    <div class="table-footer">ğŸ”‘ task_id: integer</div>
                </div>
                
                <!-- Checkup Component Results -->
                <div class="table checkup" style="left: 150px; top: 2270px; width: 330px;">
                    <div class="table-header">checkup_component_results</div>
                    <div class="table-body">
                        checkup_id: integer<br>
                        component_id: varchar(255)<br>
                        component_status: enum<br>
                        notes: text<br>
                        checked_at: timestamp<br>
                        created_at: timestamp<br>
                        updated_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ id: integer</div>
                </div>
                
                <!-- Defective Components -->
                <div class="table issues" style="left: 530px; top: 2420px; width: 300px;">
                    <div class="table-header">defective_components</div>
                    <div class="table-body">
                        reported_by_customer: boolean<br>
                        serial_number: text<br>
                        component_id: text<br>
                        detection_date: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ (serial_number, component_id)</div>
                </div>
                
                <!-- Checkup Task Completion -->
                <div class="table checkup" style="left: 900px; top: 2270px; width: 320px;">
                    <div class="table-header">checkup_task_completion</div>
                    <div class="table-body">
                        checkup_id: integer<br>
                        task_id: integer<br>
                        is_completed: boolean<br>
                        completion_date: timestamp<br>
                        completion_notes: text<br>
                        task_result: enum<br>
                        time_spent_minutes: integer<br>
                        created_at: timestamp<br>
                        updated_at: timestamp
                    </div>
                    <div class="table-footer">ğŸ”‘ id: integer</div>
                </div>
                
                <!-- SVG pour les connecteurs -->
                <svg width="100%" height="100%" style="position: absolute; top: 0; left: 0; pointer-events: none;">
                    <!-- Status -> Destinations -->
                    <line x1="150" y1="250" x2="150" y2="200" class="connector" stroke="#82b366" stroke-width="3"/>
                    
                    <!-- Returned Products -> Status -->
                    <path d="M 300 920 L 300 880 L 145 880 L 145 400" class="connector" stroke="#6c8ebf" stroke-width="3" fill="none"/>
                    
                    <!-- Returned Products -> Customers -->
                    <line x1="305" y1="920" x2="305" y2="650" class="connector" stroke="#6c8ebf" stroke-width="3"/>
                    
                    <!-- Returned Products -> Suppliers -->
                    <line x1="475" y1="920" x2="475" y2="830" class="connector" stroke="#6c8ebf" stroke-width="3"/>
                    
                    <!-- Returned Products -> OS -->
                    <path d="M 550 920 L 550 880 L 610 880 L 610 620" class="connector" stroke="#6c8ebf" stroke-width="3" fill="none"/>
                    
                    <!-- Product Checkups -> Returned Products -->
                    <line x1="225" y1="1550" x2="370" y2="1150" class="connector" stroke="#9673a6" stroke-width="3"/>
                    
                    <!-- Product Checkups -> Technicians -->
                    <line x1="140" y1="1550" x2="140" y2="1410" class="connector" stroke="#9673a6" stroke-width="3"/>
                    
                    <!-- Product Issues -> Returned Products -->
                    <path d="M 620 1850 L 620 1100 L 500 1100" class="connector" stroke="#b85450" stroke-width="3" fill="none"/>
                    
                    <!-- Product Issues -> Technical Issues -->
                    <line x1="720" y1="1850" x2="780" y2="1390" class="connector" stroke="#b85450" stroke-width="3"/>
                    
                    <!-- Checkup Component Results -> Product Checkups -->
                    <line x1="270" y1="2270" x2="200" y2="1950" class="connector" stroke="#9673a6" stroke-width="3"/>
                    
                    <!-- Checkup Component Results -> Components -->
                    <line x1="360" y1="2270" x2="380" y2="2190" class="connector" stroke="#d79b00" stroke-width="3"/>
                    
                    <!-- Defective Components -> Components -->
                    <line x1="580" y1="2420" x2="450" y2="2190" class="connector" stroke="#b85450" stroke-width="3"/>
                    
                    <!-- Defective Components -> Returned Products -->
                    <path d="M 680 2420 L 680 2380 L 950 2380 L 950 1000 L 600 1000" class="connector" stroke="#b85450" stroke-width="3" fill="none"/>
                    
                    <!-- Checkup Task Completion -> Checkup Tasks -->
                    <path d="M 900 2350 L 860 2350 L 860 2420 L 300 2420" class="connector" stroke="#9673a6" stroke-width="3" fill="none"/>
                    
                    <!-- Checkup Task Completion -> Product Checkups -->
                    <path d="M 1000 2270 L 1000 1700 L 400 1700" class="connector" stroke="#9673a6" stroke-width="3" fill="none"/>
                </svg>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="background: #e1d5e7; border-color: #9673a6;"></div>
                <span><strong>Tables de contrÃ´le</strong> - RÃ©sultats et suivi des contrÃ´les</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #ffe6cc; border-color: #d79b00;"></div>
                <span><strong>Tables de composants</strong> - Composants matÃ©riels</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #d5e8d4; border-color: #82b366;"></div>
                <span><strong>Tables de rÃ©fÃ©rence</strong> - Destinations et statuts</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #dae8fc; border-color: #6c8ebf;"></div>
                <span><strong>Tables principales</strong> - Produits et clients</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #f8cecc; border-color: #b85450;"></div>
                <span><strong>Tables de problÃ¨mes</strong> - DÃ©fauts et incidents</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #fff2cc; border-color: #d6b656;"></div>
                <span><strong>Tables techniques</strong> - Techniciens et OS</span>
            </div>
        </div>
        
        <div class="info-box" style="background: #c6f6d5; border-left-color: #38a169;">
            <h3>âœ… Diagramme visible !</h3>
            <p>Ce diagramme est affichÃ© directement dans le HTML avec des styles CSS. Vous pouvez faire dÃ©filer pour voir toutes les tables et leurs relations.</p>
        </div>
        
        <div class="info-box" style="background: #fef5e7; border-left-color: #f39c12;">
            <h3>ğŸ¨ Styles appliquÃ©s</h3>
            <ul>
                <li>âœ… <strong>Couleurs thÃ©matiques</strong> : 6 palettes de couleurs diffÃ©rentes</li>
                <li>âœ… <strong>Bordures arrondies</strong> : Design moderne</li>
                <li>âœ… <strong>Ombres portÃ©es</strong> : Effet de profondeur 3D</li>
                <li>âœ… <strong>Bordures Ã©paisses (3px)</strong> : Meilleure visibilitÃ©</li>
                <li>âœ… <strong>Connecteurs colorÃ©s</strong> : Relations entre tables</li>
            </ul>
        </div>
        
        <div class="info-box" style="background: #e8daef; border-left-color: #8e44ad;">
            <h3>ğŸ“‹ Structure de la base de donnÃ©es</h3>
            <p><strong>15 tables principales</strong> organisÃ©es en groupes fonctionnels :</p>
            <ul>
                <li><strong>Gestion des produits</strong> (ğŸ”µ) : returned_products, customers, suppliers</li>
                <li><strong>ContrÃ´les techniques</strong> (ğŸŸ£) : product_checkups, checkup_component_results, checkup_task_completion</li>
                <li><strong>Composants</strong> (ğŸŸ ) : components</li>
                <li><strong>RÃ©fÃ©rences</strong> (ğŸŸ¢) : status, destinations, checkup_tasks</li>
                <li><strong>ProblÃ¨mes</strong> (ğŸ”´) : product_issues, technical_issues, defective_components</li>
                <li><strong>DonnÃ©es techniques</strong> (ğŸŸ¡) : technicians, os</li>
            </ul>
        </div>
    </div>
</body>
</html>
